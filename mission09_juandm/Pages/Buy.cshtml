@page
@model mission09_juandm.Pages.BuyModel
@{
}

<head>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
          crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
            integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
            crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.10.1/umd/popper.min.js"
            integrity="sha384-DSSizDlR+9I36J4B8p4lxq3Y5A5+5rlUpJQKjzMzqZ/sJjK9XxamQAs/+01G+Jy/"
            crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
            integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
            crossorigin="anonymous"></script>
</head>

<body>
    <div class="container mt-4">
        <h2 class="text-center mb-4">Your Basket</h2>
        <!-- made the table in like night mode using table-dark and a hovering interaction so it looks cool, 
            i got this from the get bootstrap docs :) -->
        <table class="table table-bordered table-striped table-dark table-hover">
            <thead>
                <tr>
                    <th>Item</th>
                    <th>Quantity</th>
                    <th>Cost</th>
                    <th>Subtotal</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var i in Model.basket.Items)
                {
                    <tr>
                        <td>@i.Book.Title</td>
                        <td>@i.Quantity</td>
                        <td>$25.00</td>
                        <td>@((i.Quantity * 25).ToString("c"))</td>

                        <td class="text-center">
                            <form method="post" asp-page-handler="Remove">
                                <input type="hidden" name="bookid" value="@i.Book.BookId" />
                                <input type="hidden" name="returnUrl" value="@Model.ReturnUrl" />
                                <button type="submit" class="btn btn-danger btn-sm">
                                    <i class="fas fa-trash"></i> Remove
                                </button>
                            </form>
                        </td>
                    </tr>
                }
            </tbody>
            <tfoot>
                <tr>
                    <td colspan="3">Total:</td>
                    <td>@Model.basket.CalculateTotal().ToString("c")</td>
                </tr>
            </tfoot>
        </table>
        <div class="text-center">
            <!-- For the continue browsing button i decided to include a block level button
    that span the full width! using that class, i got this from the get bootstrap docs :) -->

            <a class="btn btn-secondary btn-lg btn-block" href="@Model.ReturnUrl">Continue Browsing</a>
            <br />
            <a class="btn btn-primary btn-lg btn-block" asp-action="Checkout" asp-controller="Purchase">Checkout!</a>
        </div>
    </div>
</body>
